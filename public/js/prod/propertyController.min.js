var propertyApp=angular.module("propertyApp",["ngRoute"]);propertyApp.config(["$routeProvider","$locationProvider",function(a){a.when("/list",{title:"View Properties",templateUrl:base_url+"/properties/list",controller:"propertyController"}).when("/add",{title:"Add properties",templateUrl:base_url+"/properties/add",controller:"propertyAddCtrl"}).when("/edit/:id",{title:"Edit property",templateUrl:base_url+"/properties/add",controller:"propertyAddCtrl"}).otherwise({redirectTo:"/list"})}]),propertyApp.factory("propertyService",["$http","$rootScope",function(a){return{apiCall:function(b,c,d,e){return a({headers:{"Content-Type":"application/x-www-form-urlencoded"},url:base_url+d,method:c,data:void 0!=e?$.param(e):""}).success(function(){})}}}]),propertyApp.controller("mainCtrl",["$scope","propertyService",function(){}]),propertyApp.controller("propertyController",["$scope","propertyService",function(a,b){var c="GET",d="property";b.apiCall("getProperties",c,d).then(function(b){a.properties=b.data})}]),propertyApp.controller("propertyAddCtrl",["$scope","propertyService","$routeParams","$location",function(a,b,c,d){if(a.property={},a.submitClicked=!1,c.id){var e=a.property.id=c.id,f="GET",g="property/"+e+"/edit";b.apiCall("getSingleProperty",f,g).then(function(b){b.data&&(a.property=b.data)}),a.save_property=function(){if(a.submitClicked=!0,a.addPropertyForm.$invalid);else{var c="PUT",f="property/"+e;b.apiCall("updateProperty",c,f,a.property).then(function(){d.path("/")})}}}else a.save_property=function(){if(a.submitClicked=!0,a.addPropertyForm.$invalid);else{var c="POST",e="property/";b.apiCall("addProperty",c,e,a.property).then(function(){d.path("/")})}};a.show_error=function(b){if(a.submitClicked){if(a.addPropertyForm[b].$invalid)return"error"}else if(a.addPropertyForm[b].$invalid&&a.addPropertyForm[b].$dirty)return"error";return""}}]);