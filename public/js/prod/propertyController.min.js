var propertyApp=angular.module("propertyApp",["ngRoute"]);propertyApp.config(["$routeProvider","$locationProvider",function(a){a.when("/list",{title:"View Properties",templateUrl:base_url+"/properties/list",controller:"propertyController"}).when("/add",{title:"Add properties",templateUrl:base_url+"/properties/add",controller:"propertyAddCtrl"}).when("/edit/:id",{title:"Edit property",templateUrl:base_url+"/properties/add",controller:"propertyAddCtrl"}).otherwise({redirectTo:"/list"})}]),propertyApp.factory("propertyService",["$http","$rootScope",function(a,b){var c=[];return{getProperties:function(){return a({headers:{"Content-Type":"application/x-www-form-urlencoded"},url:base_url+"property",method:"GET"}).success(function(a){c=a?a.data:{},b.$broadcast("handleProjectsBroadcast",c)})},saveProperty:function(b){return a({headers:{"Content-Type":"application/x-www-form-urlencoded"},url:base_url+"property",method:"POST",data:$.param(b)}).success(function(){})},getProperty:function(b){return a({headers:{"Content-Type":"application/x-www-form-urlencoded"},url:base_url+"property/"+b+"/edit",method:"GET"}).success(function(){})}}}]),propertyApp.controller("mainCtrl",["$scope","propertyService",function(){}]),propertyApp.controller("propertyController",["$scope","propertyService",function(a,b){b.getProperties().then(function(b){a.properties=b.data,console.log(b)})}]),propertyApp.controller("propertyAddCtrl",["$scope","propertyService","$routeParams",function(a,b,c){if(a.property={},c.id){var d=c.id;b.getProperty(d).then(function(b){b.data&&(a.property=b.data)})}a.save_property=function(){b.saveProperty(a.property).then(function(){})}}]);